<mat-toolbar>
  <h2 class="m-0">{{ header }}</h2>
</mat-toolbar>

<div class="w-100">
  <div class="container-button">
    <button
      mat-raised-button
      color="primary"
      class="customButton"
      (click)="goBack()"
    >
      <mat-icon class="customIconSize">keyboard_arrow_left</mat-icon>Go Back
    </button>
  </div>
  <div class="d-flex flex-row gap-3 px-4">
    <form class="w-50" [formGroup]="studentForm" (ngSubmit)="onSubmit()">
      <div class="row1">
        <mat-form-field appearance="outline">
          <mat-label>First name</mat-label>
          <input matInput type="text" formControlName="firstName" />
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Last Name</mat-label>
          <input matInput type="text" formControlName="lastName" />
        </mat-form-field>
      </div>

      <mat-form-field appearance="outline">
        <mat-label>Date of birth</mat-label>
        <input
          matInput
          [matDatepicker]="picker"
          formControlName="dateOfBirth"
        />
        <mat-datepicker-toggle
          matIconSuffix
          [for]="picker"
        ></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>

      <div class="row1">
        <mat-form-field appearance="outline">
          <mat-label>Email</mat-label>
          <input matInput type="email" formControlName="email" />
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Mobile</mat-label>
          <input matInput type="text" formControlName="mobile" />
        </mat-form-field>
      </div>

      <mat-form-field appearance="outline">
        <mat-label>genders</mat-label>
        <mat-select formControlName="genderId">
          <mat-option *ngFor="let val of genders" [value]="val.id"
            >{{ val.description }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Physical Address</mat-label>
        <textarea
          matInput="physicalAddress"
          formControlName="physicalAddress"
        ></textarea>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Postal Address</mat-label>
        <textarea
          matInput="postalAddress"
          formControlName="postalAddress"
        ></textarea>
      </mat-form-field>

      <div class="d-flex justify-content-between">
        <button mat-raised-button color="primary" type="submit">
          {{ active == "edit" ? "Save" : "Add" }}
        </button>
        <button
          *ngIf="active === 'edit'"
          mat-raised-button
          color="warn"
          type="button"
          (click)="onDelete()"
        >
          Delete
        </button>
      </div>
    </form>
    <div
      *ngIf="active === 'edit'"
      class="w-50 d-flex flex-column justify-content-start align-items-center gap-3"
    >
      <div class="avatar">
        <img [src]="displayProfileImageUrl" alt="Profile Image" />
      </div>
      <input hidden type="file" #imageUpload (change)="uploadImage($event)" />
      <button mat-raised-button color="primary" (click)="imageUpload.click()">
        Change Image
      </button>
    </div>
  </div>
</div>
